socks-port: 7891
mixed-port: 7890
mode: rule
allow-lan: true
tcp-timeout: 300
keep-alive-interval: 15
disable-keep-alive: false
log-level: info
ipv6: false
external-doh-server: "/dns-query"
geodata-mode: true 
bind-address: "*"
geox-url:
  geoip: "https://cdn.jsdelivr.net/gh/Loyalsoldier/geoip@release/geoip.dat"
  geosite: "https://github.com/Loyalsoldier/v2ray-rules-dat/releases/download/202512160513/geosite.dat"
  mmdb: "https://cdn.jsdelivr.net/gh/Loyalsoldier/geoip@release/Country.mmdb"
  asn: "https://cdn.jsdelivr.net/gh/Loyalsoldier/geoip@release/Country-asn.mmdb"
find-process-mode: always
allow-private-domains: true 
unified-delay: true
tcp-concurrent: true
experimental:
  quic-go-disable-gso: false
  quic-go-disable-ecn: false
profile:
  store-selected: true
  store-fake-ip: true
dns:
  enable: true
  cache-algorithm: arc
  cache-max-size: 1024
  use-hosts: true
  use-system-hosts: true
  listen: 0.0.0.0:1053
  ipv6: false
  default-nameserver:
    - 8.8.8.8
    - 1.1.1.1
  direct-nameserver:
    - https://dns.google/dns-query
  proxy-server-nameserver:
    - https://dns.google/dns-query
  nameserver:
    - https://8.8.8.8:443/dns-query
    - https://dns.google/dns-query
    - https://cloudflare-dns.com/dns-query  
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fallback:
    - tls://8.8.8.8:853
    - tls://1.1.1.1:853
    - 8.8.8.8
    - 8.8.4.4
    - 1.1.1.1
    - 1.0.0.1
  fallback-filter:
    geoip: true
    geoip-code: MM
    geosite:
      - gfw
    ipcidr:
      - 240.0.0.0/4
      - 10.0.0.0/8          
      - 192.168.0.0/16 
    domain:
proxy-providers:
  TSSF: 
    type: http
    path: "./proxies/TSSF.yaml"
    url: "https://raw.githubusercontent.com/ts-sf/fly/main/clash"
    etag-support: true
    disable-udp: false
    allow-insecure: true
    skip-cert-verify: true
  MatinGhanbari: 
    type: http
    path: "./proxies/MatinGhanbari.yaml"
    url: "https://raw.githubusercontent.com/MatinGhanbari/v2ray-configs/main/subscriptions/filtered/subs/ss.txt"
    etag-support: true
    disable-udp: false
    allow-insecure: true
    skip-cert-verify: true
  SP66_1: 
    type: http
    path: "./proxies/SP66_1.yaml"
    url: "https://sub.shadowproxy66.workers.dev/sub/be80a76c-6044-417c-9bff-e587f9380d05"
    etag-support: true
    disable-udp: false
    allow-insecure: true
    skip-cert-verify: true
  Shuaidaoya:
    type: http
    url: "https://gist.githubusercontent.com/shuaidaoya/9e5cf2749c0ce79932dd9229d9b4162b/raw/all.yaml"
    path: "./proxies/Shuaidaoya.yaml"
    etag-support: true
    disable-udp: false
    allow-insecure: true
    skip-cert-verify: true
  FreeNode:
    type: http
    url: "https://raw.githubusercontent.com/telegeam/freenode/refs/heads/master/clash.yaml"
    path: "./proxies/FreeNode.yaml"
    etag-support: true
    skip-cert-verify: true
    disable-udp: false  
    allow-insecure: true
  NMWalls:
    type: http
    url: "https://raw.githubusercontent.com/chengaopan/AutoMergePublicNodes/master/list.yml"
    path: "./proxies/NMWalls.yaml"
    etag-support: true
    disable-udp: false  
    allow-insecure: true
    skip-cert-verify: true
  V2Free:
    type: http
    url: "https://raw.githubusercontent.com/clashv2ray-hub/v2rayfree/refs/heads/main/v2ray.txt"
    path: "./proxies/V2Free.yaml"
    etag-support: true
    disable-udp: false  
    allow-insecure: true    
    skip-cert-verify: true
proxy-groups:
  - name: "General"
    type: url-test
    disable-udp: false
    skip-cert-verify: true
    allow-insecure: true
    url: "https://gstatic.com/generate_204"
    interval: 60
    tolerance: 30
   # exclude-filter: "(?i)(HK|HongKong|ðŸ‡­ðŸ‡°)"
  #  filter: "(?i)(ðŸ‡¹ðŸ‡­|TH|THL|Thailand||ðŸ‡¸ðŸ‡¬|SG|Singapore)"
  #  filter: "(?i)(Japan|ðŸ‡¯ðŸ‡µ|JP|ðŸ‡¸ðŸ‡¬|SG|Singapore)"
        
    include-all: true
         
      
ruleset-providers:
  AntiAd:
    type: domain
    behavior: domain
    url: "https://raw.githubusercontent.com/privacy-protection-tools/anti-AD/refs/heads/master/anti-ad-clash.yaml"
    path: ./rules/AntiAd.yaml
    interval: 86400
  AdBlocker:
    type: domain
    behavior: domain
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/reject.txt"
    path: ./rules/reject.txt
    interval: 86400
    payload: []
rules:
 
  - PROCESS-NAME,com.viber.voip,DIRECT
  - PROCESS-NAME,com.google.android.chrome,General
  - DOMAIN-SUFFIX,gvt2.com,General
  - DOMAIN,googletagmanager.com,General
  - PROCESS-NAME,com.google.uid.shared,General
  - PROCESS-NAME,com.google.android.youtube,General  
  - PROCESS-NAME,com.google.android.googlequicksearchbox,General
  - PROCESS-NAME,com.google.android.apps.bard,General 
  - PROCESS-NAME,org.schabi.newpipe,General
  - PROCESS-NAME,org.schabi.newpipe.nightly,General
  - PROCESS-NAME,org.telegram.group,DIRECT
  - PROCESS-NAME,mm.com.mptvas,DIRECT
  - PROCESS-NAME,com.kbzbank.kpaycustomer,DIRECT

  - DOMAIN,challenges.cloudflare.com, General   
  - DOMAIN-KEYWORD,gemini,General
  - DOMAIN-KEYWORD,youtube.com,General
  - DOMAIN,googletagmanager.com, General 

  - DOMAIN,google-ohttp-relay-safebrowsing.fastly-edge.com,General
  - DOMAIN-SUFFIX,youtu.be,General
  - DOMAIN-SUFFIX,ytimg.com,General
  - DOMAIN-SUFFIX,firebase.com,General
  - DOMAIN-SUFFIX,firebaseio.com,General 
  - DOMAIN-SUFFIX,github.com,General 
  - DOMAIN-KEYWORD,cloudflare,General
  
  - DOMAIN,analytics.us.tiktok.com,REJECT
  - DOMAIN-SUFFIX,adtrafficquality.google,REJECT
  - DOMAIN,www.googleadservices.com,REJECT
  - DOMAIN,fundingchoicesmessages.google.com,REJECT
  - DOMAIN,google-analytics.com,REJECT
  - DOMAIN-SUFFIX,blcdog.com,REJECT
  - DOMAIN-SUFFIX,advolve.io,REJECT
  - DOMAIN-SUFFIX,adster.tech,REJECT
  - DOMAIN,fapchatvip.com,REJECT
  - DOMAIN-SUFFIX,growcdnssedge.com,REJECT
  - DOMAIN-SUFFIX,myavlive.com,REJECT
  - DOMAIN,stripchat.org,REJECT
  - DOMAIN-SUFFIX,tradplusad.com,REJECT 
  - DOMAIN-SUFFIX,appsflyersdk.com,REJECT 
  - DOMAIN-SUFFIX,pangle.io,REJECT
  - DOMAIN-SUFFIX,i18n-pglstatp.com,REJECT
  - DOMAIN-SUFFIX,dtscdn.com,REJECT
  - DOMAIN-SUFFIX,adsrvr.org,REJECT
  - DOMAIN-SUFFIX,a-ads.com,REJECT
  - DOMAIN-SUFFIX,mrktmtrcs.net,REJECT
  - DOMAIN-SUFFIX,dtscout.com,REJECT
  - DOMAIN,388gaming.info,REJECT
  - DOMAIN,388mm.info,REJECT
  - DOMAIN-SUFFIX,histats.com,REJECT
  - DOMAIN,AdBlocker,REJECT
  - DOMAIN,AntiAd,REJECT
  - GEOSITE,CATEGORY-ADS-ALL,REJECT
  - GEOSITE,CATEGORY-ADS,REJECT
  - GEOSITE,FACEBOOK-ADS,REJECT
  - GEOSITE,META-ADS,REJECT
  - GEOSITE,GOOGLE-ADS,REJECT 
  
  - DOMAIN-KEYWORD,google,General
  #- GEOSITE,facebook,General
  - GEOSITE,google,General
  - GEOSITE,youtube,General
  - GEOSITE,telegram,DIRECT
  - GEOSITE,viber,DIRECT
  - GEOIP,MM,General
  #- GEOIP,PRIVATE,DIRECT 
  #- GEOSITE,PRIVATE,DIRECT
  - MATCH,General
